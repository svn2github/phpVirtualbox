<!-- 

	Panes for new virtual machine wizard. Logic in vboxWizard()
	Copyright (C) 2011 Ian Moore (imoore76 at yahoo dot com)
	
	$Id$

 -->
<!-- Step 1 -->
<div id='wizardCloneVMStep1' title='cloneVM Welcome' style='display: none'>

	<span class='translate'>cloneVM Step1 Message1</span>

	<p class='vboxWizButtonsMessage'></p>
	
	<p class='translate'>cloneVM Step1 Message3</p>
	
	<input type='text' class='vboxText' name='cloneVMName' style='width: 95%' />

</div>


<!-- Step 2 -->
<div id='wizardCloneVMStep2' title='Cloning Configuration' style='display: none'>

	<span class='translate'>cloneVM Step2 Message1</span>
	
	<p><span class='translate'>Current machine state desc</span>
		<span class='translate' id='wizardCloneVMCurrentAll'>Current machine and all child states desc</span>
		<span class='translate'>All states desc</span>
		</p>
	
	<table>
		<tr style='vertical-align: bottom;'>
			<td><input type='radio' class='vboxRadio' checked='checked' name='vmState' value='MachineState' /> <span class='translate'>Current machine state</span></td>
		</tr>
		<tr style='vertical-align: bottom;' id='vboxCloneCurrentAll'>
			<td><input type='radio' class='vboxRadio' name='vmState' value='MachineAndChildStates' /> <span class='translate'>Current machine and all child states</span></td>
		</tr>		
		<tr style='vertical-align: bottom;'>
			<td><input type='radio' class='vboxRadio' name='vmState' value='AllStates' /> <span class='translate'>All states</span></td>
		</tr>	
	</table>

	

</div>



<script type='text/javascript'>

$('#wizardCloneVMStep1').bind('show',function(e,wiz){

	// Already initialized?
	if($('#wizardCloneVMStep1').data('init') || !wiz.args) return;
	
	$('#wizardCloneVMStep1').data('init',1);
	
	document.forms['frmwizardCloneVM'].elements.cloneVMName.value = trans('%s Clone').replace('%s',wiz.args.vm.name);
	
	if(!(wiz.args.snapshot && wiz.args.snapshot.children && wiz.args.snapshot.children.length)) {
		$('#wizardCloneVMCurrentAll').hide();
		$('#vboxCloneCurrentAll').hide();
	}

});

/* When going to step2, make sure a name is entered */
$('#wizardCloneVMStep2').bind('show',function(e,wiz){

	document.forms['frmwizardCloneVM'].elements.cloneVMName.value = jQuery.trim(document.forms['frmwizardCloneVM'].elements.cloneVMName.value);

	if(!document.forms['frmwizardCloneVM'].elements.cloneVMName.value) {
		// Go back
		wiz.displayStep(1);
	}

});

</script>
