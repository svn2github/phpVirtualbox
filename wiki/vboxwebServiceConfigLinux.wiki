#summary How to configure /etc/init.d/vboxweb-service (VirtualBox >= 4.0)
#labels Deploy
#sidebar TableOfContents

<wiki:toc max_depth="2" />

= Introduction =

On Linux systems, !VirtualBox creates the init script */etc/init.d/vboxweb-service* when it is installed. This can be used to start and stop vboxwebsrv. While there may be numerous ways to configure this script, this document aims to keep it simple.


= Details =

In order for vboxweb-service start vboxwebsrv, the file */etc/default/virtualbox* must exist with correct settings. If this file does not exist on your system, create it now. This file has the format:

{{{
SETTING1=value
SETTING2=value
}}}

The following settings are available for use in this file:

|| *Setting* || *Description* ||
|| VBOXWEB_USER || The user as which vboxwebsrv will run. ||
|| VBOXWEB_HOST || The host to bind to (localhost). ||
|| VBOXWEB_PORT || The port to bind to (18083). ||
|| VBOXWEB_TIMEOUT || Session timeout in seconds; 0 = disable timeouts (300). ||
|| VBOXWEB_CHECK_INTERVAL || Frequency of timeout checks in seconds (5). ||
|| VBOXWEB_THREADS || Maximum number of worker threads to run in parallel (100). ||
|| VBOXWEB_KEEPALIVE || Maximum number of requests before a socket will be closed (100). ||
|| VBOXWEB_LOGFILE || Name of file to write log to (no file). ||
|| INSTALL_DIR || The location of the vboxwebsrv binary (/usr/lib/virtualbox). ||

At a minimum, *VBOXWEB_USER* must be set. Some may need to set *VBOXWEB_HOST* as well.

VBOXWEB_USER should be set to the user that runs !VirtualBox virtual machines on your system. If more than one user runs virtual machines, you will have to pick one (multiple instances are possible, but beyond the scope of this document).

VBOXWEB_HOST should be set if phpVirtualBox (your web server) is not running on the same host as vboxwebsrv. If phpVirtualBox must communicate with vboxwebsrv across a network, this must be set to an IP address reachable by your web server. If your web server and vboxwebsrv are running on the same host, you may exclude this setting.

Your */etc/default/virtualbox* may look like this:

{{{
VBOXWEB_USER=vbox
}}}

.. or *if your web server and vboxwebsrv are on NOT the same host*:

{{{
VBOXWEB_USER=vbox
VBOXWEB_HOST=192.168.0.4
}}}

Note that these values are just examples. The user that runs virtual machines on your system may not be named "vbox."

Once this is done, you may start and stop vboxwebsrv by running:

*/etc/init.d/vboxweb-service start* 
-or-
*/etc/init.d/vboxweb-service stop* 

as the root user on your system.